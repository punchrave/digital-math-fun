// Контент базы знаний по высшей математике
import { TopicContent, TopicSlug } from './types';

export const TOPIC_CONTENT: Record<TopicSlug, TopicContent> = {
  limits: {
    slug: 'limits',
    sections: [
      {
        id: 'definition',
        title: 'Определение предела',
        content: `
**Предел функции** — это значение, к которому стремится функция при приближении аргумента к определённой точке.

Формально: \\(\\lim_{x \\to a} f(x) = L\\) означает, что для любого \\(\\varepsilon > 0\\) существует \\(\\delta > 0\\), такое что если \\(0 < |x - a| < \\delta\\), то \\(|f(x) - L| < \\varepsilon\\).

### Односторонние пределы
- **Предел слева:** \\(\\lim_{x \\to a^-} f(x)\\) — значение, к которому стремится функция при подходе слева
- **Предел справа:** \\(\\lim_{x \\to a^+} f(x)\\) — значение, к которому стремится функция при подходе справа

Предел существует тогда и только тогда, когда левый и правый пределы равны.
        `,
      },
      {
        id: 'rules',
        title: 'Основные правила',
        content: `
### Арифметика пределов

Если \\(\\lim_{x \\to a} f(x) = L\\) и \\(\\lim_{x \\to a} g(x) = M\\), то:

- \\(\\lim_{x \\to a} [f(x) + g(x)] = L + M\\)
- \\(\\lim_{x \\to a} [f(x) \\cdot g(x)] = L \\cdot M\\)
- \\(\\lim_{x \\to a} \\frac{f(x)}{g(x)} = \\frac{L}{M}\\), если \\(M \\neq 0\\)
- \\(\\lim_{x \\to a} c \\cdot f(x) = c \\cdot L\\)

### Неопределённости
Основные виды неопределённостей: \\(\\frac{0}{0}\\), \\(\\frac{\\infty}{\\infty}\\), \\(0 \\cdot \\infty\\), \\(\\infty - \\infty\\), \\(1^\\infty\\), \\(0^0\\), \\(\\infty^0\\)
        `,
      },
      {
        id: 'lhopital',
        title: 'Правило Лопиталя',
        content: `
**Правило Лопиталя** применяется для раскрытия неопределённостей вида \\(\\frac{0}{0}\\) или \\(\\frac{\\infty}{\\infty}\\):

$$\\lim_{x \\to a} \\frac{f(x)}{g(x)} = \\lim_{x \\to a} \\frac{f'(x)}{g'(x)}$$

### Условия применения:
1. Неопределённость вида \\(\\frac{0}{0}\\) или \\(\\frac{\\infty}{\\infty}\\)
2. Производные \\(f'(x)\\) и \\(g'(x)\\) существуют в окрестности точки \\(a\\)
3. \\(g'(x) \\neq 0\\) в окрестности точки \\(a\\)
4. Существует \\(\\lim_{x \\to a} \\frac{f'(x)}{g'(x)}\\)

Правило можно применять несколько раз подряд!
        `,
      },
      {
        id: 'remarkable',
        title: 'Замечательные пределы',
        content: `
### Первый замечательный предел

$$\\lim_{x \\to 0} \\frac{\\sin x}{x} = 1$$

**Следствия:**
- \\(\\lim_{x \\to 0} \\frac{\\tan x}{x} = 1\\)
- \\(\\lim_{x \\to 0} \\frac{\\arcsin x}{x} = 1\\)
- \\(\\lim_{x \\to 0} \\frac{1 - \\cos x}{x^2} = \\frac{1}{2}\\)

### Второй замечательный предел

$$\\lim_{x \\to \\infty} \\left(1 + \\frac{1}{x}\\right)^x = e$$

**Эквивалентные формы:**
- \\(\\lim_{x \\to 0} (1 + x)^{1/x} = e\\)
- \\(\\lim_{x \\to 0} \\frac{\\ln(1+x)}{x} = 1\\)
- \\(\\lim_{x \\to 0} \\frac{e^x - 1}{x} = 1\\)
        `,
      },
    ],
    examples: [
      {
        id: 'ex1',
        title: 'Применение правила Лопиталя',
        problem: '\\(\\lim_{x \\to 0} \\frac{\\sin x - x}{x^3}\\)',
        solution: `
**Шаг 1:** Проверяем неопределённость
При \\(x = 0\\): \\(\\frac{\\sin 0 - 0}{0^3} = \\frac{0}{0}\\) ✓

**Шаг 2:** Применяем правило Лопиталя (1-й раз)
$$\\lim_{x \\to 0} \\frac{\\cos x - 1}{3x^2}$$
При \\(x = 0\\): \\(\\frac{1-1}{0} = \\frac{0}{0}\\) — опять неопределённость

**Шаг 3:** Применяем правило Лопиталя (2-й раз)
$$\\lim_{x \\to 0} \\frac{-\\sin x}{6x} = \\frac{0}{0}$$

**Шаг 4:** Применяем правило Лопиталя (3-й раз)
$$\\lim_{x \\to 0} \\frac{-\\cos x}{6} = \\frac{-1}{6}$$

**Ответ:** \\(-\\frac{1}{6}\\)
        `,
      },
      {
        id: 'ex2',
        title: 'Первый замечательный предел',
        problem: '\\(\\lim_{x \\to 0} \\frac{\\sin 5x}{\\sin 3x}\\)',
        solution: `
**Шаг 1:** Преобразуем выражение
$$\\lim_{x \\to 0} \\frac{\\sin 5x}{\\sin 3x} = \\lim_{x \\to 0} \\frac{\\sin 5x}{5x} \\cdot \\frac{3x}{\\sin 3x} \\cdot \\frac{5x}{3x}$$

**Шаг 2:** Применяем первый замечательный предел
$$= 1 \\cdot 1 \\cdot \\frac{5}{3}$$

**Ответ:** \\(\\frac{5}{3}\\)
        `,
      },
    ],
    formulas: [
      '\\lim_{x \\to 0} \\frac{\\sin x}{x} = 1',
      '\\lim_{x \\to \\infty} \\left(1 + \\frac{1}{x}\\right)^x = e',
      '\\lim_{x \\to 0} \\frac{e^x - 1}{x} = 1',
      '\\lim_{x \\to 0} \\frac{\\ln(1+x)}{x} = 1',
    ],
  },

  derivatives: {
    slug: 'derivatives',
    sections: [
      {
        id: 'definition',
        title: 'Определение производной',
        content: `
**Производная функции** \\(f(x)\\) в точке \\(x_0\\) — это предел:

$$f'(x_0) = \\lim_{\\Delta x \\to 0} \\frac{f(x_0 + \\Delta x) - f(x_0)}{\\Delta x}$$

### Геометрический смысл
Производная равна угловому коэффициенту касательной к графику функции в данной точке:
$$k = \\tan \\alpha = f'(x_0)$$

### Физический смысл
Производная — это мгновенная скорость изменения функции. Если \\(s(t)\\) — путь, то \\(s'(t) = v(t)\\) — скорость.
        `,
      },
      {
        id: 'rules',
        title: 'Правила дифференцирования',
        content: `
### Основные правила

- **Константа:** \\((c)' = 0\\)
- **Степенная функция:** \\((x^n)' = nx^{n-1}\\)
- **Сумма:** \\((f + g)' = f' + g'\\)
- **Произведение:** \\((fg)' = f'g + fg'\\)
- **Частное:** \\(\\left(\\frac{f}{g}\\right)' = \\frac{f'g - fg'}{g^2}\\)
- **Сложная функция:** \\((f(g(x)))' = f'(g(x)) \\cdot g'(x)\\)

### Производные высших порядков
Вторая производная: \\(f''(x) = (f'(x))'\\)
n-я производная: \\(f^{(n)}(x)\\)
        `,
      },
      {
        id: 'table',
        title: 'Таблица производных',
        content: `
### Основные производные

| Функция | Производная |
|---------|-------------|
| \\(x^n\\) | \\(nx^{n-1}\\) |
| \\(e^x\\) | \\(e^x\\) |
| \\(a^x\\) | \\(a^x \\ln a\\) |
| \\(\\ln x\\) | \\(\\frac{1}{x}\\) |
| \\(\\log_a x\\) | \\(\\frac{1}{x \\ln a}\\) |
| \\(\\sin x\\) | \\(\\cos x\\) |
| \\(\\cos x\\) | \\(-\\sin x\\) |
| \\(\\tan x\\) | \\(\\frac{1}{\\cos^2 x}\\) |
| \\(\\cot x\\) | \\(-\\frac{1}{\\sin^2 x}\\) |
| \\(\\arcsin x\\) | \\(\\frac{1}{\\sqrt{1-x^2}}\\) |
| \\(\\arccos x\\) | \\(-\\frac{1}{\\sqrt{1-x^2}}\\) |
| \\(\\arctan x\\) | \\(\\frac{1}{1+x^2}\\) |
        `,
      },
    ],
    examples: [
      {
        id: 'ex1',
        title: 'Сложная функция',
        problem: 'Найти производную \\(y = \\sin(x^2 + 1)\\)',
        solution: `
**Шаг 1:** Определяем внешнюю и внутреннюю функции
- Внешняя: \\(\\sin u\\), где \\(u = x^2 + 1\\)
- Внутренняя: \\(u = x^2 + 1\\)

**Шаг 2:** Применяем правило сложной функции
$$y' = \\cos(x^2 + 1) \\cdot (x^2 + 1)'$$

**Шаг 3:** Находим производную внутренней функции
$$(x^2 + 1)' = 2x$$

**Ответ:** \\(y' = 2x\\cos(x^2 + 1)\\)
        `,
      },
      {
        id: 'ex2',
        title: 'Произведение функций',
        problem: 'Найти производную \\(y = x^2 e^x\\)',
        solution: `
**Шаг 1:** Применяем правило произведения
\\((fg)' = f'g + fg'\\)

**Шаг 2:** Находим производные
- \\(f = x^2\\), \\(f' = 2x\\)
- \\(g = e^x\\), \\(g' = e^x\\)

**Шаг 3:** Подставляем
$$y' = 2x \\cdot e^x + x^2 \\cdot e^x = e^x(2x + x^2)$$

**Ответ:** \\(y' = e^x(x^2 + 2x)\\)
        `,
      },
    ],
    formulas: [
      "(x^n)' = nx^{n-1}",
      "(e^x)' = e^x",
      "(\\sin x)' = \\cos x",
      "(\\ln x)' = \\frac{1}{x}",
      "(fg)' = f'g + fg'",
    ],
  },

  integrals: {
    slug: 'integrals',
    sections: [
      {
        id: 'indefinite',
        title: 'Неопределённый интеграл',
        content: `
**Неопределённый интеграл** — это множество всех первообразных функции:

$$\\int f(x)dx = F(x) + C$$

где \\(F'(x) = f(x)\\), а \\(C\\) — произвольная константа.

### Свойства:
- \\(\\int [f(x) + g(x)]dx = \\int f(x)dx + \\int g(x)dx\\)
- \\(\\int af(x)dx = a\\int f(x)dx\\)
- \\(\\left(\\int f(x)dx\\right)' = f(x)\\)
        `,
      },
      {
        id: 'table',
        title: 'Таблица интегралов',
        content: `
### Основные интегралы

| Подынтегральная функция | Интеграл |
|-------------------------|----------|
| \\(x^n\\) (\\(n \\neq -1\\)) | \\(\\frac{x^{n+1}}{n+1} + C\\) |
| \\(\\frac{1}{x}\\) | \\(\\ln|x| + C\\) |
| \\(e^x\\) | \\(e^x + C\\) |
| \\(a^x\\) | \\(\\frac{a^x}{\\ln a} + C\\) |
| \\(\\sin x\\) | \\(-\\cos x + C\\) |
| \\(\\cos x\\) | \\(\\sin x + C\\) |
| \\(\\frac{1}{\\cos^2 x}\\) | \\(\\tan x + C\\) |
| \\(\\frac{1}{\\sin^2 x}\\) | \\(-\\cot x + C\\) |
| \\(\\frac{1}{1+x^2}\\) | \\(\\arctan x + C\\) |
| \\(\\frac{1}{\\sqrt{1-x^2}}\\) | \\(\\arcsin x + C\\) |
        `,
      },
      {
        id: 'methods',
        title: 'Методы интегрирования',
        content: `
### Замена переменной (подстановка)
$$\\int f(g(x))g'(x)dx = \\int f(u)du$$
где \\(u = g(x)\\)

### Интегрирование по частям
$$\\int u\\,dv = uv - \\int v\\,du$$

**Правило ЛИАТЕ** для выбора \\(u\\):
1. **Л**огарифмы (\\(\\ln x\\))
2. **И**нверсные тригонометрические (\\(\\arcsin x\\))
3. **А**лгебраические (\\(x^n\\))
4. **Т**ригонометрические (\\(\\sin x\\))
5. **Э**кспоненты (\\(e^x\\))

Выбираем \\(u\\) из более высокой категории.
        `,
      },
      {
        id: 'definite',
        title: 'Определённый интеграл',
        content: `
**Определённый интеграл** — это число, равное площади под графиком:

$$\\int_a^b f(x)dx = F(b) - F(a)$$

### Формула Ньютона-Лейбница
$$\\int_a^b f(x)dx = F(x)\\Big|_a^b = F(b) - F(a)$$

### Свойства:
- \\(\\int_a^a f(x)dx = 0\\)
- \\(\\int_a^b f(x)dx = -\\int_b^a f(x)dx\\)
- \\(\\int_a^b f(x)dx = \\int_a^c f(x)dx + \\int_c^b f(x)dx\\)
        `,
      },
    ],
    examples: [
      {
        id: 'ex1',
        title: 'Замена переменной',
        problem: '\\(\\int \\cos(3x+1)dx\\)',
        solution: `
**Шаг 1:** Делаем замену
Пусть \\(u = 3x + 1\\), тогда \\(du = 3dx\\), т.е. \\(dx = \\frac{du}{3}\\)

**Шаг 2:** Подставляем
$$\\int \\cos u \\cdot \\frac{du}{3} = \\frac{1}{3}\\int \\cos u\\,du$$

**Шаг 3:** Интегрируем
$$= \\frac{1}{3}\\sin u + C$$

**Шаг 4:** Возвращаемся к x
$$= \\frac{1}{3}\\sin(3x+1) + C$$

**Ответ:** \\(\\frac{1}{3}\\sin(3x+1) + C\\)
        `,
      },
      {
        id: 'ex2',
        title: 'Интегрирование по частям',
        problem: '\\(\\int x e^x dx\\)',
        solution: `
**Шаг 1:** Выбираем u и dv по правилу ЛИАТЕ
- \\(u = x\\) (алгебраическая)
- \\(dv = e^x dx\\) (экспонента)

**Шаг 2:** Находим du и v
- \\(du = dx\\)
- \\(v = e^x\\)

**Шаг 3:** Применяем формулу
$$\\int x e^x dx = x \\cdot e^x - \\int e^x dx$$

**Шаг 4:** Интегрируем
$$= xe^x - e^x + C = e^x(x-1) + C$$

**Ответ:** \\(e^x(x-1) + C\\)
        `,
      },
    ],
    formulas: [
      '\\int x^n dx = \\frac{x^{n+1}}{n+1} + C',
      '\\int e^x dx = e^x + C',
      '\\int \\frac{1}{x} dx = \\ln|x| + C',
      '\\int u\\,dv = uv - \\int v\\,du',
    ],
  },

  logarithms: {
    slug: 'logarithms',
    sections: [
      {
        id: 'definition',
        title: 'Определение логарифма',
        content: `
**Логарифм** числа \\(b\\) по основанию \\(a\\) — это показатель степени, в которую нужно возвести основание, чтобы получить число:

$$\\log_a b = c \\Leftrightarrow a^c = b$$

### Частные случаи:
- **Десятичный логарифм:** \\(\\lg x = \\log_{10} x\\)
- **Натуральный логарифм:** \\(\\ln x = \\log_e x\\)
- **Двоичный логарифм:** \\(\\log_2 x\\)

### Условия существования:
- \\(a > 0\\), \\(a \\neq 1\\)
- \\(b > 0\\)
        `,
      },
      {
        id: 'properties',
        title: 'Свойства логарифмов',
        content: `
### Основные свойства

1. \\(\\log_a 1 = 0\\)
2. \\(\\log_a a = 1\\)
3. \\(\\log_a (xy) = \\log_a x + \\log_a y\\)
4. \\(\\log_a \\frac{x}{y} = \\log_a x - \\log_a y\\)
5. \\(\\log_a x^n = n \\log_a x\\)
6. \\(\\log_a \\sqrt[n]{x} = \\frac{1}{n}\\log_a x\\)

### Переход к другому основанию

$$\\log_a b = \\frac{\\log_c b}{\\log_c a} = \\frac{\\ln b}{\\ln a}$$

### Особые формулы

- \\(a^{\\log_a x} = x\\)
- \\(\\log_a b \\cdot \\log_b a = 1\\)
        `,
      },
      {
        id: 'equations',
        title: 'Логарифмические уравнения',
        content: `
### Основные методы решения

**1. Приведение к одному основанию**
$$\\log_a f(x) = \\log_a g(x) \\Rightarrow f(x) = g(x)$$

**2. Замена переменной**
Если уравнение содержит \\(\\log_a x\\) несколько раз, полезно сделать замену \\(t = \\log_a x\\)

**3. Потенцирование**
$$\\log_a f(x) = b \\Rightarrow f(x) = a^b$$

### Важно!
Всегда проверяйте ОДЗ: аргумент логарифма должен быть положительным!
        `,
      },
    ],
    examples: [
      {
        id: 'ex1',
        title: 'Вычисление логарифма',
        problem: 'Вычислить: \\(\\log_2 32 + \\log_3 \\frac{1}{27}\\)',
        solution: `
**Шаг 1:** Вычисляем первый логарифм
\\(\\log_2 32 = \\log_2 2^5 = 5\\)

**Шаг 2:** Вычисляем второй логарифм
\\(\\log_3 \\frac{1}{27} = \\log_3 3^{-3} = -3\\)

**Шаг 3:** Складываем
\\(5 + (-3) = 2\\)

**Ответ:** \\(2\\)
        `,
      },
      {
        id: 'ex2',
        title: 'Логарифмическое уравнение',
        problem: 'Решить: \\(\\log_2(x+1) + \\log_2(x-1) = 3\\)',
        solution: `
**Шаг 1:** Находим ОДЗ
\\(x + 1 > 0\\) и \\(x - 1 > 0\\) ⟹ \\(x > 1\\)

**Шаг 2:** Применяем свойство суммы логарифмов
\\(\\log_2[(x+1)(x-1)] = 3\\)
\\(\\log_2(x^2-1) = 3\\)

**Шаг 3:** Потенцируем
\\(x^2 - 1 = 2^3 = 8\\)
\\(x^2 = 9\\)
\\(x = \\pm 3\\)

**Шаг 4:** Проверяем ОДЗ
\\(x = 3\\) ✓ (удовлетворяет \\(x > 1\\))
\\(x = -3\\) ✗ (не удовлетворяет)

**Ответ:** \\(x = 3\\)
        `,
      },
    ],
    formulas: [
      '\\log_a(xy) = \\log_a x + \\log_a y',
      '\\log_a x^n = n\\log_a x',
      '\\log_a b = \\frac{\\ln b}{\\ln a}',
      'a^{\\log_a x} = x',
    ],
  },

  matrices: {
    slug: 'matrices',
    sections: [
      {
        id: 'definition',
        title: 'Определение матрицы',
        content: `
**Матрица** — это прямоугольная таблица чисел, записанная в виде:

$$A = \\begin{pmatrix} a_{11} & a_{12} & \\cdots & a_{1n} \\\\ a_{21} & a_{22} & \\cdots & a_{2n} \\\\ \\vdots & \\vdots & \\ddots & \\vdots \\\\ a_{m1} & a_{m2} & \\cdots & a_{mn} \\end{pmatrix}$$

### Типы матриц:
- **Квадратная:** \\(m = n\\)
- **Диагональная:** ненулевые элементы только на главной диагонали
- **Единичная:** \\(E\\) — диагональная матрица с единицами на диагонали
- **Нулевая:** все элементы равны нулю
- **Транспонированная:** \\(A^T\\) — строки и столбцы поменяны местами
        `,
      },
      {
        id: 'operations',
        title: 'Операции с матрицами',
        content: `
### Сложение матриц
Матрицы складываются поэлементно (размеры должны совпадать):
$$(A + B)_{ij} = a_{ij} + b_{ij}$$

### Умножение на число
$$k \\cdot A = (k \\cdot a_{ij})$$

### Умножение матриц
Для матриц \\(A_{m\\times n}\\) и \\(B_{n\\times p}\\):
$$(AB)_{ij} = \\sum_{k=1}^n a_{ik} b_{kj}$$

**Важно:** \\(AB \\neq BA\\) в общем случае!

### Свойства:
- \\(A \\cdot E = E \\cdot A = A\\)
- \\((AB)C = A(BC)\\)
- \\((AB)^T = B^T A^T\\)
        `,
      },
      {
        id: 'determinant',
        title: 'Определитель матрицы',
        content: `
### Определитель 2×2
$$\\det\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix} = ad - bc$$

### Определитель 3×3 (правило Саррюса)
$$\\det\\begin{pmatrix} a_{11} & a_{12} & a_{13} \\\\ a_{21} & a_{22} & a_{23} \\\\ a_{31} & a_{32} & a_{33} \\end{pmatrix}$$

$$= a_{11}a_{22}a_{33} + a_{12}a_{23}a_{31} + a_{13}a_{21}a_{32}$$
$$- a_{13}a_{22}a_{31} - a_{11}a_{23}a_{32} - a_{12}a_{21}a_{33}$$

### Свойства:
- \\(\\det(AB) = \\det A \\cdot \\det B\\)
- \\(\\det(A^T) = \\det A\\)
- Если строка/столбец нулевой, то \\(\\det = 0\\)
- Если две строки равны, то \\(\\det = 0\\)
        `,
      },
      {
        id: 'inverse',
        title: 'Обратная матрица',
        content: `
**Обратная матрица** \\(A^{-1}\\) существует, если \\(\\det A \\neq 0\\):
$$A \\cdot A^{-1} = A^{-1} \\cdot A = E$$

### Формула для 2×2
$$A^{-1} = \\frac{1}{\\det A}\\begin{pmatrix} d & -b \\\\ -c & a \\end{pmatrix}$$

### Общая формула
$$A^{-1} = \\frac{1}{\\det A} \\cdot C^T$$

где \\(C\\) — матрица алгебраических дополнений.

### Свойства:
- \\((A^{-1})^{-1} = A\\)
- \\((AB)^{-1} = B^{-1}A^{-1}\\)
- \\((A^T)^{-1} = (A^{-1})^T\\)
        `,
      },
    ],
    examples: [
      {
        id: 'ex1',
        title: 'Умножение матриц',
        problem: 'Найти \\(AB\\), если \\(A = \\begin{pmatrix} 1 & 2 \\\\ 3 & 4 \\end{pmatrix}\\), \\(B = \\begin{pmatrix} 5 & 6 \\\\ 7 & 8 \\end{pmatrix}\\)',
        solution: `
**Шаг 1:** Вычисляем элемент (1,1)
\\(c_{11} = 1 \\cdot 5 + 2 \\cdot 7 = 5 + 14 = 19\\)

**Шаг 2:** Вычисляем элемент (1,2)
\\(c_{12} = 1 \\cdot 6 + 2 \\cdot 8 = 6 + 16 = 22\\)

**Шаг 3:** Вычисляем элемент (2,1)
\\(c_{21} = 3 \\cdot 5 + 4 \\cdot 7 = 15 + 28 = 43\\)

**Шаг 4:** Вычисляем элемент (2,2)
\\(c_{22} = 3 \\cdot 6 + 4 \\cdot 8 = 18 + 32 = 50\\)

**Ответ:** \\(AB = \\begin{pmatrix} 19 & 22 \\\\ 43 & 50 \\end{pmatrix}\\)
        `,
      },
      {
        id: 'ex2',
        title: 'Обратная матрица 2×2',
        problem: 'Найти \\(A^{-1}\\) для \\(A = \\begin{pmatrix} 3 & 1 \\\\ 5 & 2 \\end{pmatrix}\\)',
        solution: `
**Шаг 1:** Вычисляем определитель
\\(\\det A = 3 \\cdot 2 - 1 \\cdot 5 = 6 - 5 = 1\\)

**Шаг 2:** Применяем формулу для 2×2
$$A^{-1} = \\frac{1}{1}\\begin{pmatrix} 2 & -1 \\\\ -5 & 3 \\end{pmatrix}$$

**Ответ:** \\(A^{-1} = \\begin{pmatrix} 2 & -1 \\\\ -5 & 3 \\end{pmatrix}\\)
        `,
      },
    ],
    formulas: [
      '\\det\\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix} = ad - bc',
      'A \\cdot A^{-1} = E',
      '(AB)^T = B^T A^T',
      '\\det(AB) = \\det A \\cdot \\det B',
    ],
  },

  linear_systems: {
    slug: 'linear_systems',
    sections: [
      {
        id: 'definition',
        title: 'Системы линейных уравнений',
        content: `
**Система линейных уравнений** (СЛУ) — это совокупность уравнений вида:

$$\\begin{cases} a_{11}x_1 + a_{12}x_2 + \\cdots + a_{1n}x_n = b_1 \\\\ a_{21}x_1 + a_{22}x_2 + \\cdots + a_{2n}x_n = b_2 \\\\ \\vdots \\\\ a_{m1}x_1 + a_{m2}x_2 + \\cdots + a_{mn}x_n = b_m \\end{cases}$$

### Матричная форма:
$$AX = B$$

где \\(A\\) — матрица коэффициентов, \\(X\\) — вектор неизвестных, \\(B\\) — вектор свободных членов.
        `,
      },
      {
        id: 'cramer',
        title: 'Метод Крамера',
        content: `
Применяется для систем с \\(n\\) уравнениями и \\(n\\) неизвестными, если \\(\\det A \\neq 0\\):

$$x_i = \\frac{\\Delta_i}{\\Delta}$$

где:
- \\(\\Delta = \\det A\\) — главный определитель
- \\(\\Delta_i\\) — определитель матрицы, в которой \\(i\\)-й столбец заменён на столбец \\(B\\)

### Пример для 2×2:
$$\\begin{cases} a_1x + b_1y = c_1 \\\\ a_2x + b_2y = c_2 \\end{cases}$$

$$x = \\frac{\\begin{vmatrix} c_1 & b_1 \\\\ c_2 & b_2 \\end{vmatrix}}{\\begin{vmatrix} a_1 & b_1 \\\\ a_2 & b_2 \\end{vmatrix}}, \\quad y = \\frac{\\begin{vmatrix} a_1 & c_1 \\\\ a_2 & c_2 \\end{vmatrix}}{\\begin{vmatrix} a_1 & b_1 \\\\ a_2 & b_2 \\end{vmatrix}}$$
        `,
      },
      {
        id: 'gauss',
        title: 'Метод Гаусса',
        content: `
**Метод Гаусса** — это последовательное исключение переменных.

### Прямой ход
Приводим матрицу к ступенчатому виду:
$$\\begin{pmatrix} a_{11} & a_{12} & a_{13} & | & b_1 \\\\ 0 & a'_{22} & a'_{23} & | & b'_2 \\\\ 0 & 0 & a''_{33} & | & b''_3 \\end{pmatrix}$$

### Обратный ход
Находим значения переменных снизу вверх.

### Элементарные преобразования:
1. Перестановка строк местами
2. Умножение строки на ненулевое число
3. Прибавление к строке другой строки, умноженной на число
        `,
      },
      {
        id: 'matrix_method',
        title: 'Матричный метод',
        content: `
Если \\(\\det A \\neq 0\\), решение системы \\(AX = B\\):

$$X = A^{-1}B$$

### Алгоритм:
1. Найти обратную матрицу \\(A^{-1}\\)
2. Умножить \\(A^{-1}\\) на \\(B\\)
3. Полученный вектор — решение системы
        `,
      },
    ],
    examples: [
      {
        id: 'ex1',
        title: 'Метод Крамера',
        problem: 'Решить систему: \\(\\begin{cases} 2x + y = 5 \\\\ x - y = 1 \\end{cases}\\)',
        solution: `
**Шаг 1:** Вычисляем главный определитель
$$\\Delta = \\begin{vmatrix} 2 & 1 \\\\ 1 & -1 \\end{vmatrix} = 2 \\cdot (-1) - 1 \\cdot 1 = -3$$

**Шаг 2:** Вычисляем \\(\\Delta_x\\)
$$\\Delta_x = \\begin{vmatrix} 5 & 1 \\\\ 1 & -1 \\end{vmatrix} = 5 \\cdot (-1) - 1 \\cdot 1 = -6$$

**Шаг 3:** Вычисляем \\(\\Delta_y\\)
$$\\Delta_y = \\begin{vmatrix} 2 & 5 \\\\ 1 & 1 \\end{vmatrix} = 2 \\cdot 1 - 5 \\cdot 1 = -3$$

**Шаг 4:** Находим решение
$$x = \\frac{-6}{-3} = 2, \\quad y = \\frac{-3}{-3} = 1$$

**Ответ:** \\(x = 2, y = 1\\)
        `,
      },
    ],
    formulas: [
      'x_i = \\frac{\\Delta_i}{\\Delta}',
      'X = A^{-1}B',
      '\\Delta = \\det A',
    ],
  },

  series: {
    slug: 'series',
    sections: [
      {
        id: 'definition',
        title: 'Числовые ряды',
        content: `
**Числовой ряд** — это выражение вида:
$$\\sum_{n=1}^{\\infty} a_n = a_1 + a_2 + a_3 + \\cdots$$

### Частичные суммы
$$S_n = a_1 + a_2 + \\cdots + a_n$$

### Сходимость
Ряд **сходится**, если существует конечный предел:
$$S = \\lim_{n \\to \\infty} S_n$$

Иначе ряд **расходится**.

### Необходимое условие сходимости
Если ряд сходится, то \\(\\lim_{n \\to \\infty} a_n = 0\\)

**Важно:** Это условие необходимое, но не достаточное!
        `,
      },
      {
        id: 'tests',
        title: 'Признаки сходимости',
        content: `
### Признак сравнения
Если \\(0 \\leq a_n \\leq b_n\\):
- \\(\\sum b_n\\) сходится ⟹ \\(\\sum a_n\\) сходится
- \\(\\sum a_n\\) расходится ⟹ \\(\\sum b_n\\) расходится

### Признак Даламбера
$$\\lim_{n \\to \\infty} \\frac{a_{n+1}}{a_n} = q$$
- \\(q < 1\\) — ряд сходится
- \\(q > 1\\) — ряд расходится
- \\(q = 1\\) — признак не применим

### Признак Коши (радикальный)
$$\\lim_{n \\to \\infty} \\sqrt[n]{a_n} = q$$
- \\(q < 1\\) — ряд сходится
- \\(q > 1\\) — ряд расходится

### Интегральный признак
Если \\(f(x)\\) убывает и \\(f(n) = a_n\\), то ряд и интеграл \\(\\int_1^\\infty f(x)dx\\) сходятся или расходятся одновременно.
        `,
      },
      {
        id: 'special',
        title: 'Специальные ряды',
        content: `
### Геометрический ряд
$$\\sum_{n=0}^{\\infty} q^n = \\frac{1}{1-q}, \\quad |q| < 1$$

### Гармонический ряд (расходится!)
$$\\sum_{n=1}^{\\infty} \\frac{1}{n} = 1 + \\frac{1}{2} + \\frac{1}{3} + \\cdots \\to \\infty$$

### Ряд Дирихле
$$\\sum_{n=1}^{\\infty} \\frac{1}{n^p}$$
- Сходится при \\(p > 1\\)
- Расходится при \\(p \\leq 1\\)
        `,
      },
    ],
    examples: [
      {
        id: 'ex1',
        title: 'Признак Даламбера',
        problem: 'Исследовать на сходимость: \\(\\sum_{n=1}^{\\infty} \\frac{n!}{n^n}\\)',
        solution: `
**Шаг 1:** Находим отношение
$$\\frac{a_{n+1}}{a_n} = \\frac{(n+1)!}{(n+1)^{n+1}} \\cdot \\frac{n^n}{n!}$$

**Шаг 2:** Упрощаем
$$= \\frac{(n+1) \\cdot n^n}{(n+1)^{n+1}} = \\frac{n^n}{(n+1)^n} = \\left(\\frac{n}{n+1}\\right)^n$$

**Шаг 3:** Находим предел
$$q = \\lim_{n \\to \\infty} \\left(\\frac{n}{n+1}\\right)^n = \\lim_{n \\to \\infty} \\left(1 - \\frac{1}{n+1}\\right)^n = \\frac{1}{e}$$

**Шаг 4:** Вывод
\\(q = \\frac{1}{e} \\approx 0.37 < 1\\)

**Ответ:** Ряд сходится
        `,
      },
    ],
    formulas: [
      '\\sum_{n=0}^{\\infty} q^n = \\frac{1}{1-q}',
      '\\lim_{n \\to \\infty} \\frac{a_{n+1}}{a_n} = q',
      '\\sum_{n=1}^{\\infty} \\frac{1}{n^p} \\text{ сходится при } p > 1',
    ],
  },

  diff_equations: {
    slug: 'diff_equations',
    sections: [
      {
        id: 'definition',
        title: 'Основные понятия',
        content: `
**Дифференциальное уравнение** — уравнение, связывающее функцию и её производные:
$$F(x, y, y', y'', \\ldots) = 0$$

### Порядок ДУ
Порядок ДУ — это порядок старшей производной в уравнении.

### Общее решение
Содержит произвольные константы (их количество равно порядку ДУ).

### Частное решение
Получается из общего при конкретных значениях констант.

### Задача Коши
Найти частное решение, удовлетворяющее начальным условиям:
$$y(x_0) = y_0, \\quad y'(x_0) = y_1, \\ldots$$
        `,
      },
      {
        id: 'first_order',
        title: 'ДУ первого порядка',
        content: `
### С разделяющимися переменными
$$f(x)dx = g(y)dy$$
Интегрируем обе части.

### Однородное ДУ
$$y' = f\\left(\\frac{y}{x}\\right)$$
Замена: \\(u = \\frac{y}{x}\\), т.е. \\(y = ux\\)

### Линейное ДУ
$$y' + p(x)y = q(x)$$

**Метод вариации постоянной:**
1. Решаем однородное: \\(y' + p(x)y = 0\\) ⟹ \\(y = Ce^{-\\int p(x)dx}\\)
2. Считаем \\(C = C(x)\\) и подставляем в исходное
        `,
      },
      {
        id: 'second_order',
        title: 'ДУ второго порядка',
        content: `
### Линейное однородное с постоянными коэффициентами
$$y'' + py' + qy = 0$$

**Характеристическое уравнение:**
$$k^2 + pk + q = 0$$

**Общее решение зависит от корней:**
1. \\(k_1 \\neq k_2\\) (вещественные): \\(y = C_1 e^{k_1 x} + C_2 e^{k_2 x}\\)
2. \\(k_1 = k_2 = k\\): \\(y = (C_1 + C_2 x)e^{kx}\\)
3. \\(k_{1,2} = \\alpha \\pm \\beta i\\): \\(y = e^{\\alpha x}(C_1 \\cos \\beta x + C_2 \\sin \\beta x)\\)

### Неоднородное уравнение
$$y'' + py' + qy = f(x)$$
Общее решение = общее однородного + частное неоднородного.
        `,
      },
    ],
    examples: [
      {
        id: 'ex1',
        title: 'ДУ с разделяющимися переменными',
        problem: 'Решить: \\(y\' = \\frac{y}{x}\\)',
        solution: `
**Шаг 1:** Разделяем переменные
$$\\frac{dy}{dx} = \\frac{y}{x}$$
$$\\frac{dy}{y} = \\frac{dx}{x}$$

**Шаг 2:** Интегрируем обе части
$$\\int \\frac{dy}{y} = \\int \\frac{dx}{x}$$
$$\\ln|y| = \\ln|x| + C_1$$

**Шаг 3:** Находим y
$$|y| = e^{\\ln|x| + C_1} = |x| \\cdot e^{C_1}$$
$$y = Cx$$, где \\(C = \\pm e^{C_1}\\)

**Ответ:** \\(y = Cx\\)
        `,
      },
      {
        id: 'ex2',
        title: 'ДУ второго порядка',
        problem: 'Решить: \\(y\'\' - 5y\' + 6y = 0\\)',
        solution: `
**Шаг 1:** Составляем характеристическое уравнение
$$k^2 - 5k + 6 = 0$$

**Шаг 2:** Решаем квадратное уравнение
$$k = \\frac{5 \\pm \\sqrt{25-24}}{2} = \\frac{5 \\pm 1}{2}$$
$$k_1 = 3, \\quad k_2 = 2$$

**Шаг 3:** Записываем общее решение
$$y = C_1 e^{3x} + C_2 e^{2x}$$

**Ответ:** \\(y = C_1 e^{3x} + C_2 e^{2x}\\)
        `,
      },
    ],
    formulas: [
      "y' + p(x)y = q(x)",
      'k^2 + pk + q = 0',
      'y = C_1 e^{k_1 x} + C_2 e^{k_2 x}',
    ],
  },

  complex_numbers: {
    slug: 'complex_numbers',
    sections: [
      {
        id: 'definition',
        title: 'Определение',
        content: `
**Комплексное число** — это число вида:
$$z = a + bi$$

где:
- \\(a\\) — действительная часть (\\(\\text{Re}\\,z\\))
- \\(b\\) — мнимая часть (\\(\\text{Im}\\,z\\))
- \\(i\\) — мнимая единица, \\(i^2 = -1\\)

### Комплексно сопряжённое
$$\\bar{z} = a - bi$$

### Модуль
$$|z| = \\sqrt{a^2 + b^2}$$
        `,
      },
      {
        id: 'forms',
        title: 'Формы записи',
        content: `
### Алгебраическая форма
$$z = a + bi$$

### Тригонометрическая форма
$$z = r(\\cos\\varphi + i\\sin\\varphi)$$

где \\(r = |z|\\), \\(\\varphi = \\arg z\\) — аргумент (угол).

### Показательная форма (формула Эйлера)
$$z = re^{i\\varphi}$$

**Формула Эйлера:**
$$e^{i\\varphi} = \\cos\\varphi + i\\sin\\varphi$$

### Переход между формами:
- \\(a = r\\cos\\varphi\\)
- \\(b = r\\sin\\varphi\\)
- \\(r = \\sqrt{a^2 + b^2}\\)
- \\(\\tan\\varphi = \\frac{b}{a}\\)
        `,
      },
      {
        id: 'operations',
        title: 'Операции',
        content: `
### Сложение и вычитание (алгебраическая форма)
$$(a + bi) \\pm (c + di) = (a \\pm c) + (b \\pm d)i$$

### Умножение (алгебраическая форма)
$$(a + bi)(c + di) = (ac - bd) + (ad + bc)i$$

### Умножение (тригонометрическая форма)
$$z_1 \\cdot z_2 = r_1 r_2 [\\cos(\\varphi_1 + \\varphi_2) + i\\sin(\\varphi_1 + \\varphi_2)]$$

### Деление
$$\\frac{z_1}{z_2} = \\frac{r_1}{r_2}[\\cos(\\varphi_1 - \\varphi_2) + i\\sin(\\varphi_1 - \\varphi_2)]$$

### Формула Муавра (возведение в степень)
$$z^n = r^n(\\cos n\\varphi + i\\sin n\\varphi)$$
        `,
      },
    ],
    examples: [
      {
        id: 'ex1',
        title: 'Умножение комплексных чисел',
        problem: 'Найти \\((2+3i)(1-4i)\\)',
        solution: `
**Шаг 1:** Раскрываем скобки
$$(2+3i)(1-4i) = 2 \\cdot 1 + 2 \\cdot (-4i) + 3i \\cdot 1 + 3i \\cdot (-4i)$$

**Шаг 2:** Упрощаем
$$= 2 - 8i + 3i - 12i^2$$

**Шаг 3:** Используем \\(i^2 = -1\\)
$$= 2 - 5i - 12(-1) = 2 - 5i + 12$$

**Ответ:** \\(14 - 5i\\)
        `,
      },
      {
        id: 'ex2',
        title: 'Перевод в тригонометрическую форму',
        problem: 'Записать \\(z = 1 + i\\) в тригонометрической форме',
        solution: `
**Шаг 1:** Находим модуль
$$r = |z| = \\sqrt{1^2 + 1^2} = \\sqrt{2}$$

**Шаг 2:** Находим аргумент
$$\\cos\\varphi = \\frac{1}{\\sqrt{2}}, \\quad \\sin\\varphi = \\frac{1}{\\sqrt{2}}$$
$$\\varphi = \\frac{\\pi}{4}$$

**Ответ:** \\(z = \\sqrt{2}\\left(\\cos\\frac{\\pi}{4} + i\\sin\\frac{\\pi}{4}\\right)\\)
        `,
      },
    ],
    formulas: [
      'e^{i\\varphi} = \\cos\\varphi + i\\sin\\varphi',
      'z^n = r^n(\\cos n\\varphi + i\\sin n\\varphi)',
      '|z| = \\sqrt{a^2 + b^2}',
    ],
  },

  vectors: {
    slug: 'vectors',
    sections: [
      {
        id: 'definition',
        title: 'Определение вектора',
        content: `
**Вектор** — направленный отрезок, характеризующийся длиной и направлением.

### Обозначения
$$\\vec{a} = (a_1, a_2, a_3) = a_1\\vec{i} + a_2\\vec{j} + a_3\\vec{k}$$

### Длина (модуль) вектора
$$|\\vec{a}| = \\sqrt{a_1^2 + a_2^2 + a_3^2}$$

### Единичный вектор (орт)
$$\\vec{e}_a = \\frac{\\vec{a}}{|\\vec{a}|}$$

### Коллинеарные векторы
Векторы \\(\\vec{a}\\) и \\(\\vec{b}\\) коллинеарны, если \\(\\vec{a} = \\lambda\\vec{b}\\) для некоторого \\(\\lambda\\).
        `,
      },
      {
        id: 'operations',
        title: 'Операции с векторами',
        content: `
### Сложение
$$\\vec{a} + \\vec{b} = (a_1 + b_1, a_2 + b_2, a_3 + b_3)$$

### Умножение на число
$$\\lambda\\vec{a} = (\\lambda a_1, \\lambda a_2, \\lambda a_3)$$

### Скалярное произведение
$$\\vec{a} \\cdot \\vec{b} = a_1b_1 + a_2b_2 + a_3b_3 = |\\vec{a}||\\vec{b}|\\cos\\theta$$

### Угол между векторами
$$\\cos\\theta = \\frac{\\vec{a} \\cdot \\vec{b}}{|\\vec{a}||\\vec{b}|}$$

### Условие ортогональности
\\(\\vec{a} \\perp \\vec{b}\\) ⟺ \\(\\vec{a} \\cdot \\vec{b} = 0\\)
        `,
      },
      {
        id: 'cross_product',
        title: 'Векторное произведение',
        content: `
**Векторное произведение** — это вектор, перпендикулярный обоим исходным:

$$\\vec{a} \\times \\vec{b} = \\begin{vmatrix} \\vec{i} & \\vec{j} & \\vec{k} \\\\ a_1 & a_2 & a_3 \\\\ b_1 & b_2 & b_3 \\end{vmatrix}$$

### Компоненты:
$$\\vec{a} \\times \\vec{b} = (a_2b_3 - a_3b_2, a_3b_1 - a_1b_3, a_1b_2 - a_2b_1)$$

### Геометрический смысл
$$|\\vec{a} \\times \\vec{b}| = |\\vec{a}||\\vec{b}|\\sin\\theta$$

Это площадь параллелограмма, построенного на векторах.

### Свойства:
- \\(\\vec{a} \\times \\vec{b} = -\\vec{b} \\times \\vec{a}\\)
- \\(\\vec{a} \\times \\vec{a} = \\vec{0}\\)
        `,
      },
    ],
    examples: [
      {
        id: 'ex1',
        title: 'Скалярное произведение',
        problem: 'Найти угол между векторами \\(\\vec{a} = (1, 2, 2)\\) и \\(\\vec{b} = (2, -1, 2)\\)',
        solution: `
**Шаг 1:** Находим скалярное произведение
$$\\vec{a} \\cdot \\vec{b} = 1 \\cdot 2 + 2 \\cdot (-1) + 2 \\cdot 2 = 2 - 2 + 4 = 4$$

**Шаг 2:** Находим модули
$$|\\vec{a}| = \\sqrt{1 + 4 + 4} = 3$$
$$|\\vec{b}| = \\sqrt{4 + 1 + 4} = 3$$

**Шаг 3:** Находим косинус угла
$$\\cos\\theta = \\frac{4}{3 \\cdot 3} = \\frac{4}{9}$$

**Ответ:** \\(\\theta = \\arccos\\frac{4}{9} \\approx 63.6°\\)
        `,
      },
      {
        id: 'ex2',
        title: 'Векторное произведение',
        problem: 'Найти \\(\\vec{a} \\times \\vec{b}\\), если \\(\\vec{a} = (1, 0, 0)\\), \\(\\vec{b} = (0, 1, 0)\\)',
        solution: `
**Шаг 1:** Записываем определитель
$$\\vec{a} \\times \\vec{b} = \\begin{vmatrix} \\vec{i} & \\vec{j} & \\vec{k} \\\\ 1 & 0 & 0 \\\\ 0 & 1 & 0 \\end{vmatrix}$$

**Шаг 2:** Раскрываем
$$= \\vec{i}(0 \\cdot 0 - 0 \\cdot 1) - \\vec{j}(1 \\cdot 0 - 0 \\cdot 0) + \\vec{k}(1 \\cdot 1 - 0 \\cdot 0)$$
$$= \\vec{i}(0) - \\vec{j}(0) + \\vec{k}(1)$$

**Ответ:** \\(\\vec{a} \\times \\vec{b} = (0, 0, 1) = \\vec{k}\\)
        `,
      },
    ],
    formulas: [
      '\\vec{a} \\cdot \\vec{b} = |\\vec{a}||\\vec{b}|\\cos\\theta',
      '|\\vec{a} \\times \\vec{b}| = |\\vec{a}||\\vec{b}|\\sin\\theta',
      '|\\vec{a}| = \\sqrt{a_1^2 + a_2^2 + a_3^2}',
    ],
  },
};
